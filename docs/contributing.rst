Contributing Guide
=================

We welcome contributions to BTR-TOOLS! This guide explains how to get started with development.

Development Setup
-----------------

1. **Clone the repository**::

    git clone https://github.com/your-org/btr-tools.git
    cd btr-tools

2. **Create a virtual environment**::

    python -m venv venv
    source venv/bin/activate  # Linux/macOS
    # or
    venv\Scripts\activate     # Windows

3. **Install development dependencies**::

    pip install -e ".[dev]"

4. **Run tests** to ensure everything works::

    python -m pytest

Development Workflow
--------------------

1. **Create a feature branch**::

    git checkout -b feature/my-feature

2. **Make your changes** with proper tests

3. **Run the test suite**::

    python -m pytest

4. **Run linting**::

    flake8 btrtools/
    black btrtools/

5. **Build documentation**::

    cd docs
    make html

6. **Commit your changes**::

    git add .
    git commit -m "Add my feature"

7. **Push and create a pull request**::

    git push origin feature/my-feature

Code Style
----------

BTR-TOOLS follows these coding standards:

* **PEP 8** for code formatting
* **Google style** docstrings
* **Type hints** for function parameters and return values
* **Descriptive variable names**
* **Clear, concise comments**

Use ``black`` for code formatting::

    black btrtools/

Use ``flake8`` for linting::

    flake8 btrtools/

Testing
-------

All code changes must include tests. BTR-TOOLS uses ``pytest`` for testing.

**Running tests**::

    # All tests
    python -m pytest

    # Specific test file
    python -m pytest tests/test_btrieve.py

    # Specific test
    python -m pytest tests/test_btrieve.py::test_file_analysis

    # With coverage
    python -m pytest --cov=btrtools

**Writing tests**::

    import pytest
    from btrtools.core.btrieve import BtrieveAnalyzer

    def test_file_analysis():
        analyzer = BtrieveAnalyzer("test_file.btr")
        result = analyzer.analyze_file()
        assert result.metadata.record_count > 0

Test files should be placed in the ``tests/`` directory.

Documentation
-------------

**Building docs**::

    cd docs
    make html

**Writing docs**::

    # Use reStructuredText (.rst) format
    # Follow Sphinx conventions
    # Include examples and API references

**Docstring format**::

    def my_function(param1: str, param2: int) -> bool:
        """Brief description of what the function does.

        Args:
            param1: Description of param1
            param2: Description of param2

        Returns:
            Description of return value

        Raises:
            ValueError: Description of when this is raised

        Examples:
            >>> my_function("hello", 42)
            True
        """
        pass

Pull Request Process
--------------------

1. **Ensure all tests pass**
2. **Update documentation** if needed
3. **Add changelog entry** in ``CHANGELOG.md``
4. **Write clear commit messages**
5. **Provide PR description** with:

   * What changes were made
   * Why they were needed
   * How to test the changes

6. **Request review** from maintainers

Types of Contributions
----------------------

**Bug fixes**: Fix issues in existing code
**Features**: Add new functionality
**Documentation**: Improve docs or add examples
**Tests**: Add or improve test coverage
**Performance**: Optimize existing code

Reporting Issues
----------------

When reporting bugs:

1. **Use the issue template**
2. **Include BTR-TOOLS version**::

    btr-analyze --version

3. **Provide system information**::

    python -c "import sys, platform; print(sys.version); print(platform.platform())"

4. **Attach bug reports** generated by BTR-TOOLS
5. **Include minimal reproduction steps**

Code of Conduct
---------------

* Be respectful and inclusive
* Focus on constructive feedback
* Help newcomers learn
* Follow the golden rule

License
-------

By contributing to BTR-TOOLS, you agree that your contributions will be licensed under the MIT License.

Getting Help
------------

* **Documentation**: Check the docs first
* **Issues**: Search existing issues on GitHub
* **Discussions**: Use GitHub Discussions for questions
* **Email**: contact@btr-tools.org for private matters

Thank you for contributing to BTR-TOOLS!